<configuration>
    <target name="fd">

        <storage>new-engine/config/storage.xml</storage>

        <media storage="fd640 boot">

            <default>
                <maxsize>0x4000</maxsize>
            </default>

<!--
            <file section="BOOT" maxsize="0x100">   
                <lwasm format="raw">
                    <asm>new-engine/system/to8/bootloader/boot.asm</asm>
                </lwasm>
            </file>

            <file section="LOAD">
                <lwasm format="raw">
                    <asm>new-engine/system/to8/bootloader/loader.asm</asm>
                </lwasm>
            </file>

            <directory index="0" section="INDEX">
                <file name="assets.main.title" codec="zx0" section="DATA">
                    <lwasm format="obj">
                        <group>src/assets/main/group-title.xml</group>
                    </lwasm>
                </file>
            </directory>
-->
            <directory fat="dd" name="IMAGEBAS" section="FAT0">
                <file name="auto.bat" block="130">
                    <txt2bas tokenset="to">src/assets/basic/auto.bat</txt2bas> <!-- tokenset : mo, to, nano, coco, dragon. (default is to)-->
                </file>
                <file name="image.map" block="131"> <!-- will use block as starting point, will throw an error if block are not contiguous (no more free space), why make the filesystem partitionned ? -->
                    <binary>src/assets/image/rtype.map</binary>
                </file>
            </directory>

<!-- si on a une balise "bas" qui contient un nom de répertoire, on peut utiliser un attribut "filter" qui permet d'importer un ensemble de fichiers (par défaut *), le filtre est une liste de paramètres séparée par des virgules -->
<!-- decb or raw, process a lwasm followed by lwlink. section is optionnal -->

<!--
            <directory fat="dd" name="IMAGEASM" section="FAT1">
                <file name="load.bas" block="0">
                    <bas tokenset="to">src/assets/linktest/load.bas</bas>
                </file>
                <file name="image.bin" block="1">
                    <lwlink format="decb" script="">
                        <section name="" base=""/>
                        <section name="" base=""/>
                        <asm>src/assets/image/intro.asm</asm>
                        <asm>src/assets/image/image1.asm</asm>
                        <asm>src/assets/image/image2.asm</asm>
                        <bin>src/assets/lib/util.o</bin>
                    </lwlink>
                </file>
            </directory>
-->

        </media>
    </target>
</configuration>

