                      (C:\Users\bhrou\gi):00001         ;*******************************************************************************
                      (C:\Users\bhrou\gi):00002         ; FD Boot loader
                      (C:\Users\bhrou\gi):00003         ; Original code from Prehisto
                      (C:\Users\bhrou\gi):00004         ; Benoit Rousseau 07/2023 (memory ext. check)
                      (C:\Users\bhrou\gi):00005         ; ------------------------------------------------------------------------------
                      (C:\Users\bhrou\gi):00006         ; A fully featured boot loader
                      (C:\Users\bhrou\gi):00007         ;*******************************************************************************
                      (C:\Users\bhrou\gi):00008         
                      (C:\Users\bhrou\gi):00009                 INCLUDE "engine/6809/types.const.asm"
                      (engine/6809/types):00001          IFNDEF types.const.asm
     0001             (engine/6809/types):00002         types.const.asm  equ 1
                      (engine/6809/types):00003         
     0001             (engine/6809/types):00004         types.BYTE      equ 1
     0008             (engine/6809/types):00005         types.BYTE_BITS equ 8*types.BYTE
     0002             (engine/6809/types):00006         types.WORD      equ 2*types.BYTE
     0010             (engine/6809/types):00007         types.WORD_BITS equ 8*types.WORD
                      (engine/6809/types):00008          ENDC
                      (C:\Users\bhrou\gi):00010                 INCLUDE "engine/system/to8/map.const.asm"
                      (engine/system/to8):00001         ;*******************************************************************************
                      (engine/system/to8):00002         ; Thomson TO8 - Memory map
                      (engine/system/to8):00003         ; ------------------------------------------------------------------------------
                      (engine/system/to8):00004         ;
                      (engine/system/to8):00005         ; system addresses
                      (engine/system/to8):00006         ;*******************************************************************************
                      (engine/system/to8):00007         
                      (engine/system/to8):00008          IFNDEF map.const.asm
     0001             (engine/system/to8):00009         map.const.asm equ 1
                      (engine/system/to8):00010         
                      (engine/system/to8):00011         ; -----------------------------------------------------------------------------
                      (engine/system/to8):00012         ; memory map
     0000             (engine/system/to8):00013         map.ram.CART_START equ $0000
     4000             (engine/system/to8):00014         map.ram.CART_END   equ $4000
     4000             (engine/system/to8):00015         map.ram.VID_START  equ $4000
     6000             (engine/system/to8):00016         map.ram.VID_END    equ $6000
     6000             (engine/system/to8):00017         map.ram.SYS_START  equ $6000
     A000             (engine/system/to8):00018         map.ram.SYS_END    equ $A000
     A000             (engine/system/to8):00019         map.ram.DATA_START equ $A000
     E000             (engine/system/to8):00020         map.ram.DATA_END   equ $E000
     E000             (engine/system/to8):00021         map.ram.MON_START  equ $E000
     0000             (engine/system/to8):00022         map.ram.MON_END    equ $0000
                      (engine/system/to8):00023         
                      (engine/system/to8):00024         ; -----------------------------------------------------------------------------
                      (engine/system/to8):00025         ; devices
                      (engine/system/to8):00026         
                      (engine/system/to8):00027         ; mc6846
     E7C0             (engine/system/to8):00028         map.MC6846.CSR      equ $E7C0 ; (bit2) set mute
     E7C1             (engine/system/to8):00029         map.MC6846.CRC      equ $E7C1
     E7C2             (engine/system/to8):00030         map.MC6846.DDRC     equ $E7C2
     E7C3             (engine/system/to8):00031         map.MC6846.PRC      equ $E7C3 ; (bit0) set half ram page 0 (low or high) in video area ($4000-$5FFF)
     E7C4             (engine/system/to8):00032         map.MC6846.CSR2     equ $E7C4
     E7C5             (engine/system/to8):00033         map.MC6846.TCR      equ $E7C5 ; irq timer ctrl
     E7C6             (engine/system/to8):00034         map.MC6846.TMSB     equ $E7C6 ; irq timer MSB
     E7C7             (engine/system/to8):00035         map.MC6846.TLSB     equ $E7C7 ; irq timer LSB
                      (engine/system/to8):00036         
                      (engine/system/to8):00037         ; mc6821 system
     E7C8             (engine/system/to8):00038         map.MC6821.PRA      equ $E7C8
     E7C9             (engine/system/to8):00039         map.MC6821.PRB      equ $E7C9
     E7CA             (engine/system/to8):00040         map.MC6821.CRA      equ $E7CA
     E7CB             (engine/system/to8):00041         map.MC6821.CRB      equ $E7CB
                      (engine/system/to8):00042         
                      (engine/system/to8):00043         ; mc6821 music and game
     E7CC             (engine/system/to8):00044         map.MC6821.PRA1     equ $E7CC
     E7CD             (engine/system/to8):00045         map.MC6821.PRA2     equ $E7CD
     E7CE             (engine/system/to8):00046         map.MC6821.CRA1     equ $E7CE
     E7CF             (engine/system/to8):00047         map.MC6821.CRA2     equ $E7CF
                      (engine/system/to8):00048         
                      (engine/system/to8):00049         ; thmfc01 gate controler floppy disk
     E7D0             (engine/system/to8):00050         map.THMFC01.STAT0   equ $E7D0
     E7D0             (engine/system/to8):00051         map.THMFC01.CMD0    equ $E7D0
     E7D1             (engine/system/to8):00052         map.THMFC01.STAT1   equ $E7D1
     E7D1             (engine/system/to8):00053         map.THMFC01.CMD1    equ $E7D1
     E7D2             (engine/system/to8):00054         map.THMFC01.CMD2    equ $E7D2
     E7D3             (engine/system/to8):00055         map.THMFC01.WDATA   equ $E7D3
     E7D3             (engine/system/to8):00056         map.THMFC01.RDATA   equ $E7D3
     E7D4             (engine/system/to8):00057         map.THMFC01.WCLK    equ $E7D4
     E7D5             (engine/system/to8):00058         map.THMFC01.WSECT   equ $E7D5
     E7D6             (engine/system/to8):00059         map.THMFC01.TRCK    equ $E7D6
     E7D7             (engine/system/to8):00060         map.THMFC01.CELL    equ $E7D7
                      (engine/system/to8):00061         
                      (engine/system/to8):00062         ; ef9369 palette
     E7DA             (engine/system/to8):00063         map.EF9369.D        equ $E7DA
     E7DB             (engine/system/to8):00064         map.EF9369.A        equ $E7DB
                      (engine/system/to8):00065         
                      (engine/system/to8):00066         ; cf74021 gate array page mode - (TO8D: EFG2021FN)
     E7DC             (engine/system/to8):00067         map.CF74021.LGAMOD  equ $E7DC
     E7DD             (engine/system/to8):00068         map.CF74021.SYS2    equ $E7DD ; (bit0-3) set screen border color, (bit6-7) set onscreen video memory page
     E7E4             (engine/system/to8):00069         map.CF74021.COM     equ $E7E4
     E7E5             (engine/system/to8):00070         map.CF74021.DATA    equ $E7E5 ; (bit0-4) set ram page in data area ($A000-$DFFF)
     E7E6             (engine/system/to8):00071         map.CF74021.CART    equ $E7E6 ; (bit0-4) set page in cartridge area ($0000-$3FFF), (bit5) set ram over cartridge, (bit6) enable write
     E7E7             (engine/system/to8):00072         map.CF74021.SYS1    equ $E7E7 ; (bit4) set ram over data area
                      (engine/system/to8):00073         
                      (engine/system/to8):00074         ; extension port
     00E7             (engine/system/to8):00075         map.EXTPORT         equ $E7
     E7F0             (engine/system/to8):00076         map.IEEE488         equ $E7F0 ; to E7F7
     E7F2             (engine/system/to8):00077         map.EF5860.CTRL     equ $E7F2 ; MIDI
     E7F3             (engine/system/to8):00078         map.EF5860.TX       equ $E7F3 ; MIDI
     E7FE             (engine/system/to8):00079         map.MEA8000.D       equ $E7FE ; Vocal synth
     E7FF             (engine/system/to8):00080         map.MEA8000.A       equ $E7FF : Vocal synth
                      (engine/system/to8):00081         
                      (engine/system/to8):00082         ; -----------------------------------------------------------------------------
                      (engine/system/to8):00083         ; ROM routines
     E004             (engine/system/to8):00084         map.DKCONT          equ $E004 ; read sector
     E007             (engine/system/to8):00085         map.DKBOOT          equ $E007 ; boot
     E00A             (engine/system/to8):00086         map.DKFMT           equ $E00A ; format
     E00D             (engine/system/to8):00087         map.LECFA           equ $E00D ; read FAT
     E010             (engine/system/to8):00088         map.RECFI           equ $E010 ; search file
     E010             (engine/system/to8):00089         map.RECUP           equ $E010 ; clear file
     E010             (engine/system/to8):00090         map.ECRSE           equ $E010 ; sector write
     E019             (engine/system/to8):00091         map.ALLOD           equ $E019 ; catalog file allocation
     E01C             (engine/system/to8):00092         map.ALLOB           equ $E01C ; bloc allocation
     E01F             (engine/system/to8):00093         map.MAJCL           equ $E01F ; cluster update
     E022             (engine/system/to8):00094         map.FINTR           equ $E022 ; transfert end
     E025             (engine/system/to8):00095         map.QDDSTD          equ $E025 ; QDD std functions
     E028             (engine/system/to8):00096         map.QDDSYS          equ $E028 ; QDD sys functions
                      (engine/system/to8):00097         
     E803             (engine/system/to8):00098         map.PUTC            equ $E803 ; Affichage d'un caractère
     E806             (engine/system/to8):00099         map.GETC            equ $E806 ; Lecture du clavier
     E809             (engine/system/to8):00100         map.KTST            equ $E809 ; Lecture rapide du clavier
     E80C             (engine/system/to8):00101         map.DRAW            equ $E80C ; Tracé d'un segment de droite
     E80F             (engine/system/to8):00102         map.PLOT            equ $E80F ; Allumage ou extinction d'un point
                      (engine/system/to8):00103         ; ...
     E82A             (engine/system/to8):00104         map.DKCO            equ $E82A ; read or write floppy disk routine
                      (engine/system/to8):00105         ; ..
     E830             (engine/system/to8):00106         map.IRQ.EXIT        equ $E830 ; to exit an irq
                      (engine/system/to8):00107         
                      (engine/system/to8):00108         ; -----------------------------------------------------------------------------
                      (engine/system/to8):00109         ; system monitor registers
     0060             (engine/system/to8):00110         map.REG.DP          equ $60   ; direct page for system monitor registers
     6019             (engine/system/to8):00111         map.STATUS          equ $6019 ; status bitfield
     6048             (engine/system/to8):00112         map.DK.OPC          equ $6048 ; operation
     6049             (engine/system/to8):00113         map.DK.DRV          equ $6049 ; drive
     604C             (engine/system/to8):00114         map.DK.SEC          equ $604C ; sector
     604A             (engine/system/to8):00115         map.DK.TRK          equ $604A ; $604B ; track
     604E             (engine/system/to8):00116         map.DK.STA          equ $604E ; return status
     604F             (engine/system/to8):00117         map.DK.BUF          equ $604F ; $6050 ; data write location
     6023             (engine/system/to8):00118         map.FIRQPT          equ $6023 ; routine firq
     6027             (engine/system/to8):00119         map.TIMERPT         equ $6027 ; routine irq timer
     6081             (engine/system/to8):00120         map.CF74021.SYS1.R  equ $6081 ; reading value for map.CF74021.SYS1
                      (engine/system/to8):00121         
                      (engine/system/to8):00122         ; -----------------------------------------------------------------------------
                      (engine/system/to8):00123         ; constants
                      (engine/system/to8):00124         
     0035             (engine/system/to8):00125         map.EF5860.TX_IRQ_ON  equ %00110101 ; 8bits, no parity check, stop 1, tx interrupt
     0015             (engine/system/to8):00126         map.EF5860.TX_IRQ_OFF equ %00010101 ; 8bits, no parity check, stop 1, no interrupt
     0060             (engine/system/to8):00127         map.RAM_OVER_CART     equ %01100000
                      (engine/system/to8):00128         
                      (engine/system/to8):00129         ; -----------------------------------------------------------------------------
                      (engine/system/to8):00130         ; mapping to generic names
                      (engine/system/to8):00131         
     E7CD             (engine/system/to8):00132         map.DAC            equ map.MC6821.PRA2
     E7C6             (engine/system/to8):00133         map.RND            equ map.MC6846.TMSB
     E7C3             (engine/system/to8):00134         map.HALFPAGE       equ map.MC6846.PRC
                      (engine/system/to8):00135         
                      (engine/system/to8):00136             ENDC
                      (C:\Users\bhrou\gi):00011                 INCLUDE "engine/system/to8/bootloader/loader.const.asm"
                      (engine/system/to8):00001          IFNDEF loader.PAGE
0000                  (engine/system/to8):00002         loader.PAGE equ 4
                      (engine/system/to8):00003          ENDC
                      (engine/system/to8):00004         
                      (engine/system/to8):00005          IFNDEF loader.ADDRESS
0000                  (engine/system/to8):00006         loader.ADDRESS equ $A000
                      (engine/system/to8):00007          ENDC
                      (engine/system/to8):00008         
                      (engine/system/to8):00009          IFNDEF loader.DEFAULT_DYNAMIC_MEMORY_SIZE
0000                  (engine/system/to8):00010         loader.DEFAULT_DYNAMIC_MEMORY_SIZE equ loader.ADDRESS-loader.memoryPool+$4000
                      (engine/system/to8):00011          ENDC
                      (engine/system/to8):00012         
                      (engine/system/to8):00013          IFNDEF loader.DEFAULT_SCENE_DIR_ID
     0000             (engine/system/to8):00014         loader.DEFAULT_SCENE_DIR_ID equ 0
                      (engine/system/to8):00015          ENDC
                      (engine/system/to8):00016         
                      (engine/system/to8):00017          IFNDEF loader.DEFAULT_SCENE_FILE_ID
     0000             (engine/system/to8):00018         loader.DEFAULT_SCENE_FILE_ID equ 0
                      (engine/system/to8):00019          ENDC
                      (engine/system/to8):00020         
                      (engine/system/to8):00021          IFNDEF loader.DEFAULT_SCENE_EXEC_PAGE
     0005             (engine/system/to8):00022         loader.DEFAULT_SCENE_EXEC_PAGE equ 5
                      (engine/system/to8):00023          ENDC
                      (engine/system/to8):00024         
                      (engine/system/to8):00025          IFNDEF loader.DEFAULT_SCENE_EXEC_ADDR
     6100             (engine/system/to8):00026         loader.DEFAULT_SCENE_EXEC_ADDR equ $6100
                      (engine/system/to8):00027          ENDC
                      (C:\Users\bhrou\gi):00012         
                      (C:\Users\bhrou\gi):00013         ; Disk boot
                      (C:\Users\bhrou\gi):00014                 org    $6200
     60               (C:\Users\bhrou\gi):00015                 setdp  map.REG.DP
                      (C:\Users\bhrou\gi):00016         
                      (C:\Users\bhrou\gi):00017         ; Freeze interrupts
6200 1A50             (C:\Users\bhrou\gi):00018                 orcc  #$50
                      (C:\Users\bhrou\gi):00019         
                      (C:\Users\bhrou\gi):00020         ; Check computer type
6202 308C7C           (C:\Users\bhrou\gi):00021                 leax  <mess1,pcr          ; Error message
6205 8602             (C:\Users\bhrou\gi):00022                 lda   #$02                ; Load code
6207 B1FFF0           (C:\Users\bhrou\gi):00023                 cmpa  >$fff0              ; Check machine code
620A 244F             (C:\Users\bhrou\gi):00024                 bhs   err                 ; Error if not TO+
                      (C:\Users\bhrou\gi):00025         
                      (C:\Users\bhrou\gi):00026         ; Check computer memory
                      (C:\Users\bhrou\gi):00027                 IFDEF boot.CHECK_MEMORY_EXT
620C 8E6293           (C:\Users\bhrou\gi):00028                 ldx   #mess2              ; Error message
620F 8610             (C:\Users\bhrou\gi):00029                 lda   #$10
6211 B7E7E5           (C:\Users\bhrou\gi):00030                 sta   map.CF74021.DATA
6214 CEA000           (C:\Users\bhrou\gi):00031                 ldu   #$A000
6217 8655             (C:\Users\bhrou\gi):00032                 lda   #$55
6219 A7C4             (C:\Users\bhrou\gi):00033                 sta   ,u
621B A1C4             (C:\Users\bhrou\gi):00034                 cmpa  ,u
621D 263C             (C:\Users\bhrou\gi):00035                 bne   err                 ; Error if no memory ext.
                      (C:\Users\bhrou\gi):00036                 ENDC
                      (C:\Users\bhrou\gi):00037         
                      (C:\Users\bhrou\gi):00038         ; Load loader sectors
                      (C:\Users\bhrou\gi):00039          IFGE loader.ADDRESS-$A000        ; Skip if not data space
621F 8610             (C:\Users\bhrou\gi):00040                 lda   #$10
6221 9A81             (C:\Users\bhrou\gi):00041                 ora   <map.CF74021.SYS1.R ; Set RAM
6223 9781             (C:\Users\bhrou\gi):00042                 sta   <map.CF74021.SYS1.R ; over data
6225 B7E7E7           (C:\Users\bhrou\gi):00043                 sta   >map.CF74021.SYS1   ; space
6228 C604             (C:\Users\bhrou\gi):00044                 ldb   #loader.PAGE        ; Load RAM page
622A F7E7E5           (C:\Users\bhrou\gi):00045                 stb   >map.CF74021.DATA   ; Switch RAM page
                      (C:\Users\bhrou\gi):00046          ELSE
                      (C:\Users\bhrou\gi):00047           IFGE loader.ADDRESS-$6000       ; Skip if not resident space
                      (C:\Users\bhrou\gi):00048           ELSE
                      (C:\Users\bhrou\gi):00049            IFGE loader.ADDRESS-$4000      ; Skip if not video space
                      (C:\Users\bhrou\gi):00050                 ldb   #loader.PAGE        ; Load RAM page
                      (C:\Users\bhrou\gi):00051                 andb  #$01                ; Keep only half page A or B
                      (C:\Users\bhrou\gi):00052                 orb   map.MC6846.PRC      ; Merge register value
                      (C:\Users\bhrou\gi):00053                 stb   map.MC6846.PRC      ; Set desired half page in video space
                      (C:\Users\bhrou\gi):00054            ELSE
                      (C:\Users\bhrou\gi):00055                 ldb   #loader.PAGE        ; Load RAM page
                      (C:\Users\bhrou\gi):00056                 orb   #$60                ; Set RAM over cartridge space
                      (C:\Users\bhrou\gi):00057                 stb   >map.CF74021.CART   ; Switch RAM page
                      (C:\Users\bhrou\gi):00058            ENDC
                      (C:\Users\bhrou\gi):00059           ENDC
                      (C:\Users\bhrou\gi):00060          ENDC
622D CCA000           (C:\Users\bhrou\gi):00061                 ldd   #loader.ADDRESS    ; Loading
6230 DD4F             (C:\Users\bhrou\gi):00062                 std   <map.DK.BUF        ; address
                      (C:\Users\bhrou\gi):00063                 IFGT loader.ADDRESS-((loader.ADDRESS/256)*256)
                      (C:\Users\bhrou\gi):00064                 ERROR "loader.ADDRESS is expected to be a multiple of 256 bytes. Ex: $A000, $6100, ..."
                      (C:\Users\bhrou\gi):00065                 ENDC                     ; b register is always 0
6232 D7FF             (C:\Users\bhrou\gi):00066                 stb   <$60ff             ; Cold reset
6234 8602             (C:\Users\bhrou\gi):00067                 lda   #$02               ; >read code
6236 DD48             (C:\Users\bhrou\gi):00068                 std   <map.DK.OPC        ; Read/Head 0
6238 CE62C2           (C:\Users\bhrou\gi):00069                 ldu   #blist             ; Interleave list
623B 8E62A6           (C:\Users\bhrou\gi):00070                 ldx   #mess3             ; Error message
623E A6C5             (C:\Users\bhrou\gi):00071         boot2   lda   b,u                ; Get sector
6240 974C             (C:\Users\bhrou\gi):00072                 sta   <map.DK.SEC        ; number
6242 BDE004           (C:\Users\bhrou\gi):00073                 jsr   >map.DKCONT        ; Load sector
6245 2405             (C:\Users\bhrou\gi):00074                 bcc   boot3              ; Skip if no error
6247 BDE004           (C:\Users\bhrou\gi):00075                 jsr   >map.DKCONT        ; Reload sector
624A 250F             (C:\Users\bhrou\gi):00076                 bcs   err                ; Skip if error
624C 0C4F             (C:\Users\bhrou\gi):00077         boot3   inc   <map.DK.BUF        ; Move sector ptr
624E 5C               (C:\Users\bhrou\gi):00078                 incb                     ; Sector+1
624F 7A6280           (C:\Users\bhrou\gi):00079                 dec   >secnbr            ; Next
6252 26EA             (C:\Users\bhrou\gi):00080                 bne   boot2              ; sector
6254 10CE9F00         (C:\Users\bhrou\gi):00081                 lds   #$9F00             ; Set system stack
6258 7EA000           (C:\Users\bhrou\gi):00082                 jmp   >loader.ADDRESS
                      (C:\Users\bhrou\gi):00083         
                      (C:\Users\bhrou\gi):00084         ; Display error message
625B 338C56           (C:\Users\bhrou\gi):00085         err     leau  <mess0,pcr         ; Location
625E 8D08             (C:\Users\bhrou\gi):00086                 bsr   err2               ; Display location
6260 3384             (C:\Users\bhrou\gi):00087                 leau  ,x                 ; Message pointer
6262 8D04             (C:\Users\bhrou\gi):00088                 bsr   err2               ; Display message
6264 20FE             (C:\Users\bhrou\gi):00089         err0    bra   err0               ; Infinite loop
                      (C:\Users\bhrou\gi):00090         
                      (C:\Users\bhrou\gi):00091         ; Display message
6266 8D06             (C:\Users\bhrou\gi):00092         err1    bsr   err3               ; Display char
6268 E6C0             (C:\Users\bhrou\gi):00093         err2    ldb   ,u+                ; Read char
626A 2AFA             (C:\Users\bhrou\gi):00094                 bpl   err1               ; Next if not last
626C C47F             (C:\Users\bhrou\gi):00095                 andb  #$7f               ; Mask char
626E 1FB8             (C:\Users\bhrou\gi):00096         err3    tfr   dp,a               ; Read DP
6270 48               (C:\Users\bhrou\gi):00097                 asla                     ; Check if MO or TO
6271 102B858E         (C:\Users\bhrou\gi):00098                 lbmi  map.PUTC           ; Display for TO
6275 3F               (C:\Users\bhrou\gi):00099                 swi                      ; Display for MO
6276 82               (C:\Users\bhrou\gi):00100                 fcb   $82                ; Display for MO
                      (C:\Users\bhrou\gi):00101         
                      (C:\Users\bhrou\gi):00102                 IFGT *-$6278
                      (C:\Users\bhrou\gi):00103                 ERROR "boot code part 1 is too large !"
                      (C:\Users\bhrou\gi):00104                 ENDC
                      (C:\Users\bhrou\gi):00105         
6277 00               (C:\Users\bhrou\gi):00106                 align $6278
6278                  (C:\Users\bhrou\gi):00107         @magicNumber
6278 42415349433200   (C:\Users\bhrou\gi):00108                 fcn   "BASIC2"
627F 00               (C:\Users\bhrou\gi):00109                 fcb   $00                               ; checksum (set at build stage)
6280 0F               (C:\Users\bhrou\gi):00110         secnbr  fcb   (builder.lwasm.size.loader/256)+1 ; number of sectors to read
                      (C:\Users\bhrou\gi):00111         
                      (C:\Users\bhrou\gi):00112         ; Error messages
6281 4F6E6C7920666F72 (C:\Users\bhrou\gi):00113         mess1   fcs   "Only for TO8/8D/9+"
     20544F382F38442F
     39AB
6293 5265717569726573 (C:\Users\bhrou\gi):00114         mess2   fcs   "Requires 256Ko ext."
     203235364B6F2065
     7874AE
62A6 2020202020492F4F (C:\Users\bhrou\gi):00115         mess3   fcs   "     I/O|Error"
     7C4572726FF2
                      (C:\Users\bhrou\gi):00116         
                      (C:\Users\bhrou\gi):00117         ; Location message
62B4 1F2121           (C:\Users\bhrou\gi):00118         mess0   fcb   $1f,$21,$21
62B7 1F1113           (C:\Users\bhrou\gi):00119                 fcb   $1f,$11,$13        ; 3 lines (11-13)
62BA 1B47             (C:\Users\bhrou\gi):00120                 fcb   $1b,$47            ; font : white
62BC 1B51             (C:\Users\bhrou\gi):00121                 fcb   $1b,$51            ; background : red
62BE 0C               (C:\Users\bhrou\gi):00122                 fcb   $0c                ; cls
62BF 1F4CCB           (C:\Users\bhrou\gi):00123                 fcb   $1f,$4c,$4b+$80    ; locate for MO
                      (C:\Users\bhrou\gi):00124         
                      (C:\Users\bhrou\gi):00125         ; Interleave table
62C2 0F0D0B           (C:\Users\bhrou\gi):00126         blist   fcb   $0f,$0d,$0b        ; first value is omitted ($01 : boot sector)
62C5 09070503         (C:\Users\bhrou\gi):00127                 fcb   $09,$07,$05,$03
62C9 08060402         (C:\Users\bhrou\gi):00128                 fcb   $08,$06,$04,$02
62CD 100E0C0A         (C:\Users\bhrou\gi):00129                 fcb   $10,$0e,$0c,$0a
                      (C:\Users\bhrou\gi):00130         
                      (C:\Users\bhrou\gi):00131                 IFGT *-$6300
                      (C:\Users\bhrou\gi):00132                 ERROR "boot code part 2 is too large !"
                      (C:\Users\bhrou\gi):00133                 ENDC
